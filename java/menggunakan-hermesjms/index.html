
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Menggunakan HermesJMS - Living life and make it better</title>
  <meta name="author" content="Endy Muhardin">

  
  <meta name="description" content="Kalau kita ingin membuat aplikasi menggunakan database, tentunya hal pertama yang kita lakukan adalah menginstal server database. Selanjutnya, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://endy.artivisi.com/blog/java/menggunakan-hermesjms/">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Living life and make it better" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta property="fb:app_id" content="269506799827290" />



  <link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  

  

</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">endymuhardin</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Living life and make it better</a></h1>
  
    <h2>life, learn, contribute</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:endy.artivisi.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      
        <h1 class="entry-title">Menggunakan HermesJMS</h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2007-09-06T18:37:59+07:00" pubdate data-updated="true">Sep 6<span>th</span>, 2007</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Kalau kita ingin membuat aplikasi menggunakan database, tentunya hal pertama yang kita lakukan adalah menginstal server database. Selanjutnya, langkah kedua adalah menginstal aplikasi untuk mengelola database. Paling tidak, kita harus bisa membuat tabel, melihat isi tabel, mengisi ataupun menghapus data ke dalam tabel.</p>

<p>Demikian juga kalau kita membangun aplikasi menggunakan JMS (Java Messaging Service). Sebelum membuat Hello JMS, terlebih dulu kita harus menginstal JMS server dan aplikasi yang dapat melihat isi JMS Server tersebut.</p>

<p>Pada artikel kali ini, kita akan menginstal JMS Server <a href="http://activemq.apache.org/">ActiveMQ</a> dan aplikasi pengelolaan JMS yang bernama <a href="http://www.hermesjms.com/confluence/display/HJMS/Home">HermesJMS</a>.</p>

<p>ActiveMQ dan HermesJMS dapat diunduh di websitenya masing-masing.</p>

<p>Setelah diunduh, terlebih dulu kita instal ActiveMQ. Caranya sangat gampang, cukup diekstrak saja. Saya meletakkannya di folder <code>/opt</code></p>

<pre><code>&lt;code&gt;cd /opt
sudo tar xvzf apache-activemq-4.1.1.tar.gz
&lt;/code&gt;
</code></pre>

<p>Setelah diekstrak, kita bisa langsung jalankan dari folder instalasinya.</p>

<pre><code>&lt;code&gt;cd /opt/apache-activemq-4.1.1
bin/activemq&lt;/code&gt;
</code></pre>

<p>Kalau sukses, akan muncul log message seperti ini:</p>

<pre><code>&lt;code&gt;INFO  TransportServerThreadSupport   - Listening for connections at: tcp://sweetdreams:61616
INFO  TransportConnector             - Connector openwire Started
INFO  TransportServerThreadSupport   - Listening for connections at: ssl://sweetdreams:61617
INFO  TransportConnector             - Connector ssl Started
INFO  TransportServerThreadSupport   - Listening for connections at: stomp://sweetdreams:61613
INFO  TransportConnector             - Connector stomp Started
INFO  NetworkConnector               - Network Connector default-nc Started
INFO  BrokerService                  - ActiveMQ JMS Message Broker (localhost, ID:sweetdreams-32991-1188983887811-1:0) started
&lt;/code&gt;
</code></pre>

<p>Server kita sudah siap diakses di port 61616.</p>

<p>Sekarang kita akan menginstal HermesJMS. Inipun instalasinya tidak sulit, cukup jalankan saja installernya.</p>

<pre><code>&lt;code&gt;java -jar hermes-installer-1.12.jar&lt;/code&gt;
</code></pre>

<p>Nantinya akan muncul layar instalasi. Klik saja Next &#8230; Next &#8230; seperti biasa sampai selesai.</p>

<p>Setelah Hermes berhasil diinstal, jalankan Hermes. Berikut adalah tampilan awalnya.
<img src="/images/uploads/2007/09/hello-hermes.png" title="Hello Hermes" ></p>

<p>Selanjutnya, kita akan menambahkan koneksi ke server ActiveMQ kita.
Buka menu Options - Preferences, kemudian pilih tab Classpath di sisi bawah panel.
<img src="/images/uploads/2007/09/no-classpath.png" title="Belum ada classpath group" ></p>

<p>Selanjutnya, klik kanan di panel kosong tersebut
dan masukkan classpath group baru bernama ActiveMQ.
<img src="/images/uploads/2007/09/add-classpath.png" title="Tambah Classpath Group" ></p>

<p>Nanti akan muncul entri ActiveMQ dengan tab dibawahnya yang bertulisan Library.
Klik kanan <strong>tepat pada tulisan Library</strong> dan pilih Add Jar.
Kita harus menambahkan beberapa jar berikut:</p>

<ul>
<li><p>apache-activemq-4.1.1.jar</p></li>
<li><p>backport-util-concurrent-2.1.jar</p></li>
<li><p>geronimo-j2ee-management_1.0_spec-1.0.jar</p></li>
</ul>


<p>Semua file tersebut dapat ditemukan di lokasi instalasi ActiveMQ.</p>

<p>Setelah konfigurasi dilakukan, layar tampilannya akan tampak seperti ini:
<img src="/images/uploads/2007/09/classpath-activemq.png" title="Classpath ActiveMQ" ></p>

<p>Tutup layar Preference, dan buka lagi.
Entah kenapa kalau tidak ditutup dulu, pilihan ActiveMQ tidak akan keluar.</p>

<p>Di layar Preference tab Session, ketikkan nama Session yang baru, yaitu ActiveMQ.
Klik Apply, nantinya Hermes akan menanyakan apakah ini session baru atau bukan.
Jawab saja, &#8220;Ya, ini adalah session baru&#8221;.</p>

<p>Selanjutnya, ganti pilihan Loader menjadi ActiveMQ, dan pilih ActiveMQ Connection Factory pada pilihan Class.
Hasilnya akan nampak seperti ini:
<img src="/images/uploads/2007/09/session-activemq.png" title="Session Baru ActiveMQ" ></p>

<p>Setelah selesai, session ActiveMQ akan muncul di panel sebelah kiri.
<img src="/images/uploads/2007/09/session-activemq-configured.png" title="Konfigurasi Session ActiveMQ" ></p>

<p>Kita bisa membuat queue baru di session tersebut. Gunakan tombol Create New Queue.
<img src="/images/uploads/2007/09/queue-new.png" title="Membuat Queue" ></p>

<p>Pembuatan queue pada layar ini bersifat sementara. Artinya, bila HermesJMS dimatikan, Queuenya akan hilang. Untuk membuat Queue yang permanen, kita dapat mendefinisikannya pada layar konfigurasi session.</p>

<p>Queue yang sudah dibuat dapat dilihat di panel sebelah kiri.
<img src="/images/uploads/2007/09/queue-browse.png" title="Queue Browser" ></p>

<p>Pada queue yang sudah terbentuk, kita bisa mengirim Text Message.
Gunakan menu Messages - Send TextMessages. Kita harus memilih satu text file untuk dikirim.</p>

<p>Setelah pengiriman selesai dilakukan, refresh tampilan sehingga message baru tersebut muncul.
<img src="/images/uploads/2007/09/queue-browse-message.png" title="Browse Message" ></p>

<p>Kita dapat mengambil message tersebut dengan menggunakan kode program Java sebagai berikut.</p>

<pre><code>&lt;code&gt;package tutorial.jms;

import javax.jms.Connection;
import javax.jms.ConnectionFactory;
import javax.jms.JMSException;
import javax.jms.Message;
import javax.jms.MessageConsumer;
import javax.jms.Queue;
import javax.jms.Session;
import javax.jms.TextMessage;

import org.apache.activemq.ActiveMQConnection;
import org.apache.activemq.ActiveMQConnectionFactory;

public class HelloQueueReceiver {
    public static void main(String[] args) throws Exception {
        ConnectionFactory factory = new ActiveMQConnectionFactory(
                ActiveMQConnection.DEFAULT_USER,
                ActiveMQConnection.DEFAULT_PASSWORD,
                ActiveMQConnection.DEFAULT_BROKER_URL);
        System.out.println("Connecting to: "+ActiveMQConnection.DEFAULT_BROKER_URL);
        System.out.println("With username : "+ActiveMQConnection.DEFAULT_USER);
        System.out.println("and password : "+ActiveMQConnection.DEFAULT_PASSWORD);

        Connection conn = factory.createConnection();
        System.out.println("Connected");

        Session sess = conn.createSession(false, Session.AUTO_ACKNOWLEDGE);
        System.out.println("Session created");

        Queue destination = sess.createQueue("coba");
        System.out.println("Queue created");

        MessageConsumer consumer = sess.createConsumer(destination);
        System.out.println("Consumer created");

        System.out.println("Fetching message");
        conn.start();
        int counter = 1;
        while(true) {           
            Message msg = consumer.receive(1000);
            if (msg == null) break;
            System.out.println("Retrieving message #"+counter++);
            System.out.println("Message fetched");
            if (msg instanceof TextMessage) {
                TextMessage txtmsg = (TextMessage) msg;
                System.out.println("Message ID: "+txtmsg.getJMSMessageID());
                System.out.println("Message Content: "+txtmsg.getText());
            }
        }


        System.out.println("Closing connections");
        consumer.close();
        sess.close();
        conn.close();
        System.out.println("All closed");
    }
}
&lt;/code&gt;
</code></pre>

<p>Setelah kode program di atas dijalankan, refresh queue browser di Hermes. Harusnya pengambilan message tersebut akan menghapus message di server.</p>

<p>Kita juga bisa mengirim message menggunakan kode program berikut.</p>

<pre><code>&lt;code&gt;package tutorial.jms;

import javax.jms.Connection;
import javax.jms.ConnectionFactory;
import javax.jms.JMSException;
import javax.jms.MessageProducer;
import javax.jms.Queue;
import javax.jms.Session;
import javax.jms.TextMessage;

import org.apache.activemq.ActiveMQConnection;
import org.apache.activemq.ActiveMQConnectionFactory;

public class HelloQueueSender {
    public static void main(String[] args) throws JMSException {
        ConnectionFactory factory = new ActiveMQConnectionFactory(
                ActiveMQConnection.DEFAULT_USER,
                ActiveMQConnection.DEFAULT_PASSWORD,
                ActiveMQConnection.DEFAULT_BROKER_URL);
        System.out.println("Connecting to: "+ActiveMQConnection.DEFAULT_BROKER_URL);
        System.out.println("With username : "+ActiveMQConnection.DEFAULT_USER);
        System.out.println("and password : "+ActiveMQConnection.DEFAULT_PASSWORD);

        Connection conn = factory.createConnection();
        System.out.println("Connected");

        Session sess = conn.createSession(false, Session.AUTO_ACKNOWLEDGE);
        System.out.println("Session created");

        Queue destination = sess.createQueue("coba");
        System.out.println("Queue created");

        MessageProducer prod = sess.createProducer(destination);
        TextMessage msg = sess.createTextMessage();
        msg.setText("Hello JMS");

        prod.send(msg);
        System.out.println("Message sent");

        prod.close();
        sess.close();
        conn.close();
    }
}
&lt;/code&gt;
</code></pre>

<p>Setelah kode program di atas dijalankan, kita dapat merefresh queue browser di Hermes untuk memastikan bahwa kode program kita berhasil mengirim message.</p>

<p>Demikianlah, dengan menggunakan HermesJMS, kita dapat memeriksa secara visual apakah kode program kita dapat mengakses JMS Server dengan benar.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Endy Muhardin</span></span>

      








  


<time datetime="2007-09-06T18:37:59+07:00" pubdate data-updated="true">Sep 6<span>th</span>, 2007</time>
      

<span class="categories">
  
    <a class='category' href='/categories/java/'>java</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://endy.artivisi.com/blog/java/menggunakan-hermesjms/" data-via="endymuhardin" data-counturl="http://endy.artivisi.com/blog/java/menggunakan-hermesjms/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left articlenav" href="/linux/network-address-translation/" title="Previous Post: Network Address Translation">&laquo; Network Address Translation</a>
      
      
        <a class="basic-alignment right articlenav" href="/java/membuat-validasi-dalam-aplikasi/" title="Next Post: Membuat validasi dalam aplikasi">Membuat validasi dalam aplikasi &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="facebook_comments" aria-live="polite">
      <noscript>Please enable JavaScript to view the comments powered by facebook</a></noscript>
<div
  class="fb-comments"
  data-href="http://endy.artivisi.com/blog/java/menggunakan-hermesjms/"
  data-num-posts="2"
  data-width="470"
  data-colorscheme="light" ></div>

    </div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/aplikasi/terima-kasih-wordpress/">Terima kasih Wordpress</a>
      </li>
    
      <li class="post">
        <a href="/java/konsep-dasar-log4/">Konsep Dasar Log4j</a>
      </li>
    
      <li class="post">
        <a href="/java/monitoring-aplikasi-java/">Monitoring Aplikasi Java</a>
      </li>
    
      <li class="post">
        <a href="/linux/backup-home-folder/">Backup Home Folder</a>
      </li>
    
      <li class="post">
        <a href="/java/staged-deployment/">Staged Deployment</a>
      </li>
    
      <li class="post">
        <a href="/manajemen/meluruskan-mitos-cmmi/">Meluruskan Mitos CMMI</a>
      </li>
    
      <li class="post">
        <a href="/aplikasi/redmine-jruby-tomca/">Instalasi Redmine di Tomcat</a>
      </li>
    
      <li class="post">
        <a href="/aplikasi/instalasi-spket-ide/">Instalasi Spket IDE</a>
      </li>
    
      <li class="post">
        <a href="/aplikasi/linux/membuat-screencast/">Membuat Screencast</a>
      </li>
    
      <li class="post">
        <a href="/javascript/tutorial-extjs/">Tutorial ExtJS</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("endymuhardin", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/endymuhardin" class="twitter-follow-button" data-show-count="false">Follow @endymuhardin</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/110971146012275775230?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Endy Muhardin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=269506799827290&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
