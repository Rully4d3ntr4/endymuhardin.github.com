
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Living life and make it better</title>
  <meta name="author" content="Endy Muhardin">

  
  <meta name="description" content="Pada tahap implementasi, fitur dump-restore database sangat penting. Dengan fitur ini, kita bisa melakukan migrasi data di mesin development, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://endymuhardin.github.com/blog/page/28/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Living life and make it better" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta property="fb:app_id" content="269506799827290" />


  

</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText">endymuhardin</div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Living life and make it better</a></h1>
  
    <h2>life, learn, contribute</h2>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:endymuhardin.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/Aplikasi/dump-restore-postgresql/">Dump Restore PostgreSQL</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2007-09-25T22:01:48+07:00" pubdate data-updated="true">Sep 25<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Pada tahap implementasi, fitur dump-restore database sangat penting. Dengan fitur ini, kita bisa melakukan migrasi data di mesin development, melakukan troubleshoot, data cleansing, dan sebagainya dengan tenang. Begitu sudah selesai, kita dump struktur tabel berikut datanya dari mesin development, kemudian buat database baru di mesin production, lalu restore.</p>

<p>Agar tidak lupa, berikut saya tulis rangkaian langkah-langkahnya. Diasumsikan kita sudah memiliki database development dengan parameter sebagai berikut:</p>

<ul>
<li><p>Nama Database : buku_tamu_devel</p></li>
<li><p>Username : belajar</p></li>
<li><p>Password : java</p></li>
<li><p>File hasil dump : buku_tamu-dump-sql</p></li>
</ul>


<p>Untuk melakukan dump, berikut adalah perintahnya:</p>

<pre><code>&lt;code&gt;pg_dump -CdD  -Fp -U belajar buku_tamu_devel &gt; buku_tamu-dump.sql&lt;/code&gt;
</code></pre>

<p>Penjelasannya sebagai berikut:</p>

<ul>
<li><p>pg_dump : adalah aplikasi command line untuk melakukan import</p></li>
<li><p>C : opsi untuk create semua tabel. Selain opsi C, kita juga bisa menggunakan opsi c, yaitu DROP dulu tabelnya baru kemudian CREATE. Pada skenario ini, file dump akan diaplikasikan ke database baru, jadi tidak perlu DROP dulu tabel-tabel yang sudah ada.</p></li>
<li><p>d : opsi untuk mengisi data. Bila ada opsi ini, pg_dump akan menghasilkan statement INSERT dari data yang sudah ada.</p></li>
<li><p>D : opsi untuk menulis nama kolom. Dengan opsi ini, di statement INSERT akan ada nama kolom.</p></li>
<li><p>Fp : format hasilnya adalah plain text</p></li>
<li><p>U : username untuk koneksi ke database</p></li>
</ul>


<p>Selanjutnya, tiba saat melakukan restore. Parameternya sama dengan database development, kecuali nama databasenya adalah <code>buku_tamu_prod</code>. Bila database belum ada, buat dulu dengan user postgres.</p>

<pre><code>&lt;code&gt;$ sudo su - postgres
$ createdb buku_tamu_prod
CREATE DATABASE
$ exit&lt;/code&gt;
</code></pre>

<p>Baru setelah itu kita lakukan restore.</p>

<pre><code>&lt;code&gt;psql -d buku_tamu_prod -U belajar -f buku_tamu-dump.sql&lt;/code&gt; 
</code></pre>

<p>Penjelasan opsinya adalah sebagai berikut:</p>

<ul>
<li><p>d : nama database yang akan direstore</p></li>
<li><p>U : username yang digunakan untuk koneksi</p></li>
<li><p>f : file dump</p></li>
</ul>


<p>Bila tidak ada pesan error, struktur tabel dan data seharusnya sudah masuk ke database baru.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/Lain2/lowongan-experd/">Lowongan Experd</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2007-09-25T15:36:49+07:00" pubdate data-updated="true">Sep 25<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Kemarin ada mbak-mbak yang kirim email ke saya, namanya mbak Hanna dari <a href="http://www.experd.org">Experd</a>, minta tolong dipostingkan lowongan. Entah kenapa, waktu saya cek websitenya, tulisannya Service Unavailable. Sedangkan www.experd.com bisa diakses. Entahlah, mungkin yang .org sedang bermasalah.</p>

<p>Begini katanya,</p>

<blockquote><p>Sekedar share informasi lowongan, bahwa saat ini kami ada klien, sebuah konsultan IT yang berpusat di New Jersey, sedang membutuhkan JAVA/J2EE programmer. Nantinya kandidat yang dihired ini akan ditugaskan untuk proyek salah satu top bank di Malaysia. Status pekerjaan yang ditawarkan permanent employee. (selengkapnya di bawah ini).</p></blockquote>

<p>Berikut detail lowongannya.</p>

<ul>
<li><p>Has 2-7 years experience in Java/J2EE Development</p></li>
<li><p>Experience in DB2/Oracle and Unix is an advantage</p></li>
<li><p>Preferably with Banking Project Experience</p></li>
<li><p>Can join in 2-6 weeks</p></li>
<li><p>Willing to work in Kuala Lumpur, Malaysia</p></li>
</ul>


<p>Mbak Hanna juga memberikan alamat kantornya, yaitu di:</p>

<p>Plaza 3 Pondok Indah Blok C2, Jl. T.B. Simatupang, Jakarta 12310</p>

<p>Telp. 62-21-75906448, Fax. 62-21-75906442</p>

<p>Email. hanna [at] experd [dot] org, http://www.experd.com</p>

<p>Jangan kirim lamaran ke saya, menurut mbak Hanna, kirimkan ke databank [at] experd [dot] org.</p>

<p><strong>Disclaimer: Saya tidak kenal sama mbak Hanna. Artikel ini juga bukan anjuran kepada pembaca untuk mengirim lamaran</strong></p>

<p>Saya juga sudah membaca bukunya Kevin Mitnick yang berjudul <a href="http://www.flazx.com/ebook1002.php">The Art of Deception</a>, yang berisi tentang <a href="http://en.wikipedia.org/wiki/Social_engineering_%28security%29">Social Engineering</a>. Jadi, saran saya bagi pembaca yang berminat, luangkan waktu beberapa menit untuk melakukan cross-check ke alamat dan nomer telepon yang ada di atas untuk memastikan kesahihan info lowongan ini sebelum mengirim resume Anda.</p>

<p>Sekedar smoke-test, saya sudah lookup ke <a href="http://www.who.is/">layanan whois</a>, dan hasilnya experd.com dan experd.org diregistrasi oleh orang yang sama, dan alamatnya sama dengan alamat kantornya di atas.</p>

<p>Untuk mbak Hanna, mohon maaf ya &#8230; bukannya tidak percaya. Tapi baca sendiri deh <a href="http://www.flazx.com/ebook4179.php">The Art of Deception</a>, nanti Anda akan mengerti kenapa saya <em>terkesan paranoid</em>. Anyway &#8230; terima kasih atas info lowongannya. Mudah-mudahan mendapatkan kandidat yang sesuai.</p>

<p>Kalau ada orang Experd yang membaca artikel ini, mohon konfirmasi atau sanggahannya.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/Java/menggunakan-postgresql/">Menggunakan PostgreSQL</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2007-09-24T18:35:16+07:00" pubdate data-updated="true">Sep 24<span>th</span>, 2007</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Saya baru saja memporting project yang sedang saya kerjakan, dari menggunakan <a href="http://www.mysql.org">ikan lumba-lumba</a> menjadi <a href="http://www.postgresql.org">gajah</a>. Sebetulnya saya pernah menggunakan database gajah ini pada tahun 2005, tapi setelah itu jarang digunakan sehingga butuh waktu agak lama untuk melakukan porting ini.</p>

<p>Agar lain kali tidak lupa lagi, baiklah saya tulis di sini saja. Mudah-mudahan bermanfaat juga untuk pembaca :D</p>

<h3>Instalasi</h3>

<p>Saya menggunakan Ubuntu, jadi instalasi tidak sulit. Cukup lakukan:
<code>sudo apt-get install postgresql-8.2</code>
Beres .. :D</p>

<h3>Konfigurasi Akses Jaringan</h3>

<p>Selanjutnya, konfigurasi Postgre agar meminta password setiap ada koneksi masuk, termasuk dari localhost. Ini dilakukan agar konfigurasi JDBCnya tidak terlalu berbeda dengan konfigurasi sebelumnya yang menggunakan MySQL.</p>

<p>Ganti otentikasi dalam <code>pg_hba.conf</code> menjadi</p>

<pre><code>&lt;code&gt;local   all         all                           password
host    all         all         127.0.0.1/32      password
host    all         all         ::1/128           password&lt;/code&gt;
</code></pre>

<p>Konfigurasi di atas artinya, koneksi ke semua database, dari local maupun remote, mintalah password. File <code>pg_hba.conf</code> ini lokasinya tergantung distro yang digunakan. Di tempat saya, ada di folder <code>/etc/postgresql/8.2/main</code>. Jangan lupa merestart PostgreSQL setelah memodifikasi file ini.</p>

<pre><code>&lt;code&gt;sudo /etc/init.d/postgresql restart&lt;/code&gt;
</code></pre>

<h3>Menambahkan User</h3>

<p>Untuk menambahkan user, kita perlu <em>menyamar</em> sebagai user <code>postgres</code>.  Gunakan <code>su</code>.
<code>sudo su - postgres</code></p>

<p>Selanjutnya, jalankan perintah <code>createuser</code> dengan argumen P untuk meminta password.</p>

<pre><code>&lt;code&gt;createuser -P
Enter name of role to add: belajar
Enter password for new role: 
Enter it again: 
Shall the new role be a superuser? (y/n) n
Shall the new role be allowed to create databases? (y/n) y
Shall the new role be allowed to create more new roles? (y/n) n
CREATE ROLE&lt;/code&gt;
</code></pre>

<p>Perintah di atas menambahkan user dengan username <code>belajar</code> yang memiliki ijin untuk membuat database baru.</p>

<p>Selanjutnya, keluar dari user postgres dengan menggunakan perintah <code>exit</code>.</p>

<h3>Membuat Database</h3>

<p>Agar bisa menyimpan data, kita harus punya database. Mari kita buat database yang namanya <code>buku_tamu</code>. Gunakan perintah <code>createdb</code> dengan argumen U untuk menyebutkan username.</p>

<pre><code>&lt;code&gt;createdb -U belajar buku_tamu
Password: 
CREATE DATABASE&lt;/code&gt;
</code></pre>

<p>Setelah selesai, coba koneksi ke database tersebut.</p>

<p><code>psql -U belajar -d buku_tamu</code></p>

<h3>Konfigurasi JDBC</h3>

<p>Kalau sudah OK, berikut adalah konfigurasi JDBC untuk mengakses database tersebut.</p>

<pre><code>&lt;code&gt;jdbc.driver      = org.postgresql.Driver
jdbc.url         = jdbc:postgresql://localhost/buku_tamu
jdbc.username    = belajar
jdbc.password    = java&lt;/code&gt;
</code></pre>

<p>Saya menggunakan Hibernate, sehingga butuh satu parameter lagi, yaitu dialek SQL yang digunakan.</p>

<p><code>hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect</code></p>

<p>Dengan menggunakan Hibernate, maka porting database hanyalah perkara mengganti lima baris konfigurasi (bukan source code), dari seperti ini:</p>

<pre><code>&lt;code&gt;jdbc.driver      = com.mysql.jdbc.Driver
jdbc.url         = jdbc:mysql://localhost/buku_tamu
jdbc.username    = belajar
jdbc.password    = java
hibernate.dialect=org.hibernate.dialect.MySQLInnoDBDialect&lt;/code&gt;
</code></pre>

<p>Menjadi seperti ini:</p>

<pre><code>&lt;code&gt;jdbc.driver      = org.postgresql.Driver
jdbc.url         = jdbc:postgresql://localhost/buku_tamu
jdbc.username    = belajar
jdbc.password    = java
hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect&lt;/code&gt;
</code></pre>

<p>Oh iya, jangan lupa <a href="http://jdbc.postgresql.org/download.html">unduh dulu driver JDBC untuk PostgreSQL</a>. Saya menggunakan versi <strong>8.2-506 JDBC 4</strong>.</p>

<p>Demikian setup PostgreSQL agar bisa diakses dari Java.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/29/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/27/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/Java/konsep-dasar-log4/">Konsep Dasar Log4j</a>
      </li>
    
      <li class="post">
        <a href="/blog/Java/monitoring-aplikasi-java/">Monitoring Aplikasi Java</a>
      </li>
    
      <li class="post">
        <a href="/blog/Linux/backup-home-folder/">Backup Home Folder</a>
      </li>
    
      <li class="post">
        <a href="/blog/Java/Manajemen/staged-deployment/">Staged Deployment</a>
      </li>
    
      <li class="post">
        <a href="/blog/Manajemen/meluruskan-mitos-cmmi/">Meluruskan Mitos CMMI</a>
      </li>
    
      <li class="post">
        <a href="/blog/Aplikasi/Linux/redmine-jruby-tomca/">Instalasi Redmine di Tomcat</a>
      </li>
    
      <li class="post">
        <a href="/blog/Aplikasi/Programming/instalasi-spket-ide/">Instalasi Spket IDE</a>
      </li>
    
      <li class="post">
        <a href="/blog/Aplikasi/Linux/membuat-screencast/">Membuat Screencast</a>
      </li>
    
      <li class="post">
        <a href="/blog/Java/PHP/tutorial-extjs/">Tutorial ExtJS</a>
      </li>
    
      <li class="post">
        <a href="/blog/Manajemen/estimasi-proyek-software/">Estimasi Proyek Software</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/endymuhardin">@endymuhardin</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'endymuhardin',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("endymuhardin", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/endymuhardin" class="twitter-follow-button" data-show-count="false">Follow @endymuhardin</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/110971146012275775230?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Endy Muhardin -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=269506799827290&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
